
package:
{{if ne .Env.OS "alpine"}}
{{range .Vars.common.packages}}
  {{.}}:
    installed: true
{{end}}
{{if getEnv "PACKAGE" | regexMatch "android"}}
{{range .Vars.android.packages}}
  {{.}}:
    installed: true
{{end}}
{{end}}
{{else}}
{{range .Vars.alpine.packages}}
  {{.}}:
    installed: true
{{end}}
{{end}}

{{if ne .Env.OS "alpine"}}
command:
{{range .Vars.common.commands}}
  {{.}}:
    exit-status: 0
{{end}}

{{if getEnv "PACKAGE" | regexMatch "ruby"}}
{{range .Vars.ruby.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "ruby-node"}}
{{range .Vars.ruby.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{range .Vars.node.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "python"}}
{{range .Vars.python.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "rust"}}
{{range .Vars.rust.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "haskell"}}
{{range .Vars.haskell.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "golang"}}
{{range .Vars.golang.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "ubuntu"}}
{{range .Vars.rust.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "php"}}
{{range .Vars.php.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "^node"}}
{{range .Vars.node.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "^openjdk"}}
{{range .Vars.java.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "^elixir"}}
{{range .Vars.elixir.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}

{{if getEnv "PACKAGE" | regexMatch "^clojure"}}
{{range .Vars.lein.commands}}
  {{.}}:
    exit-status: 0
{{end}}
{{end}}
{{end}}
